---
sidebar_position: 4
title: Прошивка
---

# Руководство по настройке прошивки

В этом руководстве мы покажем вам, как настроить и персонализировать прошивку для вашей клавиатуры Ergonaut One.

## Начало работы

Обновление прошивки позволит вам адаптировать Ergonaut One под ваши потребности в печати, изменяя раскладки клавиш и другие функциональные возможности.

### Необходимые условия: учетная запись GitHub

Вам понадобится учетная запись GitHub для хранения и редактирования настроек прошивки вашей клавиатуры.

- У вас нет учетной записи? [Зарегистрируйтесь здесь](https://github.com/join).

## Создание конфигурации прошивки

Прежде всего, вам потребуется копия конфигурации Ergonaut One:

![](repo_template.png)

1. Перейдите в [шаблонный репозиторий](https://github.com/ergonautkb/one-zmk-config).
2. Нажмите "Use this template" и назовите свой репозиторий "ergonaut-one-firmware".
3. Установите публичную видимость для вашего репозитория.

## Настройка раскладки с помощью онлайн-редактора

Используйте онлайн-редактор раскладки, чтобы легко настроить вашу раскладку клавиатуры:

![](keymap_editor.png)

1. Перейдите в [редактор раскладки](https://nickcoutsos.github.io/keymap-editor/).
2. Войдите в систему с использованием вашего аккаунта GitHub.
3. Настройте раскладку клавиатуры по вашему вкусу и нажмите "Save".
4. Кратко опишите ваши изменения, нажмите "commit" и дождитесь окончания сборки прошивки.
5. Скачайте скомпилированный файл прошивки.

## Запись прошивки на клавиатуру

Теперь, когда у вас есть скомпилированная прошивка:

1. Подключите левую половину вашей клавиатуры к ПК.
2. Войдите в режим загрузчика:
   - С оригинальной прошивкой: Нажмите кнопки Lower+Raise+верхняя левая клавиша на левой половине.
   - Если у вас уже установлена индивидуальная прошивка или ее нет вовсе: Нажмите кнопку "Reset" на Xiao два раза.
3. На вашем компьютере должен появиться новый USB-накопитель. Переместите файл `ergonaut_one_left-seeeduino_xiao_ble-zmk.uf2` на него.

И вот так просто, ваша клавиатура кастомизирована вашей собственной индивидуальной раскладкой.

## Устранение Неполадок и Поддержка

Если у вас возникли проблемы в процессе прошивки:

### Общие Шаги по Устранению Неполадок

- Убедитесь, что вы правильно выполнили все инструкции по входу в режим загрузки.
- Повторно проверьте предыдущие шаги, чтобы убедиться, что все действия были выполнены правильно.

### Устранение Проблем С Парой Половин Клавиатуры

Проблемы с парой половин клавиатуры обычно могут быть решены путем сброса настроек на обоих контроллерах. Эта процедура включает в себя прошивку сброса на обе половины для обеспечения их успешного сопряжения.

#### Получение Прошивки Сброса UF2

1. Перейдите на страницу GitHub Actions вашего репозитория с прошивкой Ergonaut One:
   - Если вы использовали наш шаблон для создания собственного репозитория, перейдите на страницу Actions вашего клонированного репозитория.
   - Если вы не создавали собственный репозиторий, перейдите на официальную страницу Actions Ergonaut One: https://github.com/ergonautkb/one-zmk-config/actions.
2. Нажмите на последний успешный запуск workflow, обозначенный зеленой галочкой.
3. В разделе "Artifacts" загрузите zip-файл `firmware`.
4. Распакуйте zip-файл, чтобы найти файл `settings_reset-seeeduino_xiao_ble-zmk.uf2`.

#### Прошивка Сброса Прошивки

1. Откройте нижнюю часть корпуса клавиатуры, чтобы получить доступ к кнопке сброса на микроконтроллере XIAO, находящейся рядом с USB-разъемом.
2. Для каждой половины клавиатуры по отдельности выполните следующие шаги, чтобы избежать случайного сопряжения:
   - Войдите в режим загрузки, быстро нажав кнопку сброса дважды.
   - Синий светодиод должен начать моргать синим светом
   - Когда ваш компьютер обнаружит клавиатуру как USB-накопитель, перетащите и отпустите файл сброса UF2 в его папку.
   - **Важно:** Чтобы предотвратить случайное сопряжение, немедленно перейдите в режим загрузки сразу после прошивки, нажав кнопку сброса дважды. Сделайте это до того, как клавиатура перезагрузится, чтобы гарантировать, что обе половины сбросили информацию о сопряжении.
3. После успешной прошивки сброса обеих половин, приступайте к прошивке клавиатуры.

#### Прошивка Актуальной Прошивки

1. Прошейте каждую половину клавиатуры соответствующим файлом актуальной прошивки (например, `ergonaut_one_left-seeeduino_xiao_ble-zmk.uf2` для левой половины).
2. Чтобы произвести сопряжение половин, убедитесь, что обе находятся близко друг к другу, и сбросьте их одновременно, нажимая кнопки сброса на обоих микроконтроллерах XIAO. Этот одновременный сброс запустит процесс сопряжения.

### Дополнительная Помощь

:::info

Если вам нужна поддержка, не стесняйтесь присоединиться к нашему сообществу в [Telegram](https://ergonautkb_ru.t.me/) или отправьте нам письмо на адрес hi@ergonautkb.com

:::

## Дополнительные ресурсы

Если вас интересуют более детальные настройки прошивки, ознакомьтесь с [документацией ZMK](https://zmk.dev/docs).

Вот и все! Теперь вы готовы наслаждаться клавиатурой Ergonaut One с прошивкой, настроенной вами.
